@page "/dashboard"
@inject IBacktestService BacktestService

<h2>Strategy Dashboard</h2>
<atternDashboard.Components.SignalOverlay candles="@candles" config="@config" />

@code {
    private List<Candle> candles;
    private StrategyConfig config = new StrategyConfig { Mode = 3, Instrument = "GBP_USD", Granularity = "M15" };

    protected override async Task OnInitializedAsync()
    {
        var result = await BacktestService.RunBacktestAsync(config, DateTime.UtcNow.AddDays(-30), DateTime.UtcNow);
        candles = result.Candles;
    }
}
